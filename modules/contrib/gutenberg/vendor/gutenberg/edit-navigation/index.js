window.wp=window.wp||{},window.wp.editNavigation=function(e){var t={};function n(a){if(t[a])return t[a].exports;var c=t[a]={i:a,l:!1,exports:{}};return e[a].call(c.exports,c,c.exports,n),c.l=!0,c.exports}return n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)n.d(a,c,function(t){return e[t]}.bind(null,c));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=419)}({0:function(e,t){e.exports=window.wp.element},1:function(e,t){e.exports=window.wp.i18n},10:function(e,t,n){var a;!function(){"use strict";var n={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a))e.push(c.apply(null,a));else if("object"===o)for(var r in a)n.call(a,r)&&a[r]&&e.push(r)}}return e.join(" ")}e.exports?e.exports=c:void 0===(a=function(){return c}.apply(t,[]))||(e.exports=a)}()},100:function(e,t,n){"use strict";var a=n(0),c=n(6);const o=Object(a.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)(c.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));t.a=o},101:function(e,t,n){"use strict";var a=n(0),c=n(6);const o=Object(a.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)(c.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"}));t.a=o},13:function(e,t){e.exports=window.wp.coreData},151:function(e,t,n){"use strict";var a=n(0),c=n(6);const o=Object(a.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)(c.Path,{d:"M11.776 4.454a.25.25 0 01.448 0l2.069 4.192a.25.25 0 00.188.137l4.626.672a.25.25 0 01.139.426l-3.348 3.263a.25.25 0 00-.072.222l.79 4.607a.25.25 0 01-.362.263l-4.138-2.175a.25.25 0 00-.232 0l-4.138 2.175a.25.25 0 01-.363-.263l.79-4.607a.25.25 0 00-.071-.222L4.754 9.881a.25.25 0 01.139-.426l4.626-.672a.25.25 0 00.188-.137l2.069-4.192z"}));t.a=o},152:function(e,t,n){"use strict";var a=n(0),c=n(6);const o=Object(a.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)(c.Path,{fillRule:"evenodd",d:"M9.706 8.646a.25.25 0 01-.188.137l-4.626.672a.25.25 0 00-.139.427l3.348 3.262a.25.25 0 01.072.222l-.79 4.607a.25.25 0 00.362.264l4.138-2.176a.25.25 0 01.233 0l4.137 2.175a.25.25 0 00.363-.263l-.79-4.607a.25.25 0 01.072-.222l3.347-3.262a.25.25 0 00-.139-.427l-4.626-.672a.25.25 0 01-.188-.137l-2.069-4.192a.25.25 0 00-.448 0L9.706 8.646zM12 7.39l-.948 1.921a1.75 1.75 0 01-1.317.957l-2.12.308 1.534 1.495c.412.402.6.982.503 1.55l-.362 2.11 1.896-.997a1.75 1.75 0 011.629 0l1.895.997-.362-2.11a1.75 1.75 0 01.504-1.55l1.533-1.495-2.12-.308a1.75 1.75 0 01-1.317-.957L12 7.39z",clipRule:"evenodd"}));t.a=o},162:function(e,t,n){"use strict";var a="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),c=new Uint8Array(16);function o(){if(!a)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(c)}for(var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,i=function(e){return"string"==typeof e&&r.test(e)},s=[],l=0;l<256;++l)s.push((l+256).toString(16).substr(1));t.a=function(e,t,n){var a=(e=e||{}).random||(e.rng||o)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var c=0;c<16;++c)t[n+c]=a[c];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!i(n))throw TypeError("Stringified UUID is invalid");return n}(a)}},18:function(e,t){e.exports=window.wp.hooks},2:function(e,t){e.exports=window.lodash},205:function(e,t,n){"use strict";var a=n(0),c=n(6);const o=Object(a.createElement)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(a.createElement)(c.Path,{fillRule:"evenodd",d:"M10.289 4.836A1 1 0 0111.275 4h1.306a1 1 0 01.987.836l.244 1.466c.787.26 1.503.679 2.108 1.218l1.393-.522a1 1 0 011.216.437l.653 1.13a1 1 0 01-.23 1.273l-1.148.944a6.025 6.025 0 010 2.435l1.149.946a1 1 0 01.23 1.272l-.653 1.13a1 1 0 01-1.216.437l-1.394-.522c-.605.54-1.32.958-2.108 1.218l-.244 1.466a1 1 0 01-.987.836h-1.306a1 1 0 01-.986-.836l-.244-1.466a5.995 5.995 0 01-2.108-1.218l-1.394.522a1 1 0 01-1.217-.436l-.653-1.131a1 1 0 01.23-1.272l1.149-.946a6.026 6.026 0 010-2.435l-1.148-.944a1 1 0 01-.23-1.272l.653-1.131a1 1 0 011.217-.437l1.393.522a5.994 5.994 0 012.108-1.218l.244-1.466zM14.929 12a3 3 0 11-6 0 3 3 0 016 0z",clipRule:"evenodd"}));t.a=o},24:function(e,t){e.exports=window.wp.keyboardShortcuts},27:function(e,t,n){"use strict";n.d(t,"g",(function(){return g})),n.d(t,"b",(function(){return U})),n.d(t,"c",(function(){return B})),n.d(t,"d",(function(){return V})),n.d(t,"e",(function(){return q})),n.d(t,"f",(function(){return R})),n.d(t,"a",(function(){return L}));var a={};n.r(a),n.d(a,"enableComplementaryArea",(function(){return u})),n.d(a,"disableComplementaryArea",(function(){return d})),n.d(a,"pinItem",(function(){return b})),n.d(a,"unpinItem",(function(){return p}));var c={};n.r(c),n.d(c,"getActiveComplementaryArea",(function(){return O})),n.d(c,"isItemPinned",(function(){return j}));var o=n(4),r=n(2);const i=Object(o.combineReducers)({singleEnableItems:function(e={},{type:t,itemType:n,scope:a,item:c}){return"SET_SINGLE_ENABLE_ITEM"===t&&n&&a?{...e,[n]:{...e[n],[a]:c||null}}:e},multipleEnableItems:function(e={},{type:t,itemType:n,scope:a,item:c,isEnable:o}){if("SET_MULTIPLE_ENABLE_ITEM"!==t||!n||!a||!c||Object(r.get)(e,[n,a,c])===o)return e;const i=e[n]||{},s=i[a]||{};return{...e,[n]:{...i,[a]:{...s,[c]:o||!1}}}}});var s=Object(o.combineReducers)({enableItems:i});function l(e,t,n){return{type:"SET_SINGLE_ENABLE_ITEM",itemType:e,scope:t,item:n}}function u(e,t){return l("complementaryArea",e,t)}function d(e){return l("complementaryArea",e,void 0)}function m(e,t,n,a){return{type:"SET_MULTIPLE_ENABLE_ITEM",itemType:e,scope:t,item:n,isEnable:a}}function b(e,t){return m("pinnedItems",e,t,!0)}function p(e,t){return m("pinnedItems",e,t,!1)}function O(e,t){return function(e,t,n){return Object(r.get)(e.enableItems.singleEnableItems,["complementaryArea",n])}(e,0,t)}function j(e,t,n){return!1!==function(e,t,n,a){return Object(r.get)(e.enableItems.multipleEnableItems,["pinnedItems",n,a])}(e,0,t,n)}const g=Object(o.createReduxStore)("core/interface",{reducer:s,actions:a,selectors:c,persist:["enableItems"]});Object(o.registerStore)("core/interface",{reducer:s,actions:a,selectors:c,persist:["enableItems"]});var _=n(7),f=n(0),v=n(10),E=n.n(v),y=n(3),h=n(1),S=n(101),M=n(151),I=n(152),N=n(59),w=n(100),C=n(41),k=Object(C.withPluginContext)((e,t)=>({icon:t.icon||e.icon,identifier:t.identifier||`${e.name}/${t.name}`})),P=k((function({as:e=y.Button,scope:t,identifier:n,icon:a,selectedIcon:c,...i}){const s=e,l=Object(o.useSelect)(e=>e(g).getActiveComplementaryArea(t)===n,[n]),{enableComplementaryArea:u,disableComplementaryArea:d}=Object(o.useDispatch)(g);return Object(f.createElement)(s,Object(_.a)({icon:c&&l?c:a,onClick:()=>{l?d(t):u(t,n)}},Object(r.omit)(i,["name"])))})),T=({smallScreenTitle:e,children:t,className:n,toggleButtonProps:a})=>{const c=Object(f.createElement)(P,Object(_.a)({icon:w.a},a));return Object(f.createElement)(f.Fragment,null,Object(f.createElement)("div",{className:"components-panel__header interface-complementary-area-header__small"},e&&Object(f.createElement)("span",{className:"interface-complementary-area-header__small-title"},e),c),Object(f.createElement)("div",{className:E()("components-panel__header","interface-complementary-area-header",n),tabIndex:-1},t,c))};function x({name:e,as:t=y.Button,onClick:n,...a}){return Object(f.createElement)(y.Fill,{name:e},({onClick:e})=>Object(f.createElement)(t,Object(_.a)({onClick:n||e?(...t)=>{(n||r.noop)(...t),(e||r.noop)(...t)}:void 0},a)))}x.Slot=function({name:e,as:t=y.ButtonGroup,fillProps:n={},bubblesVirtually:a,...c}){return Object(f.createElement)(y.Slot,{name:e,bubblesVirtually:a,fillProps:n},e=>{if(Object(r.isEmpty)(f.Children.toArray(e)))return null;const n=[];f.Children.forEach(e,({props:{__unstableExplicitMenuItem:e,__unstableTarget:t}})=>{t&&e&&n.push(t)});const a=f.Children.map(e,e=>!e.props.__unstableExplicitMenuItem&&n.includes(e.props.__unstableTarget)?null:e);return Object(f.createElement)(t,c,a)})};var L=x;const A=e=>Object(f.createElement)(y.MenuItem,Object(r.omit)(e,["__unstableExplicitMenuItem","__unstableTarget"]));function B({scope:e,target:t,__unstableExplicitMenuItem:n,...a}){return Object(f.createElement)(P,Object(_.a)({as:a=>Object(f.createElement)(L,Object(_.a)({__unstableExplicitMenuItem:n,__unstableTarget:`${e}/${t}`,as:A,name:e+"/plugin-more-menu"},a)),role:"menuitemcheckbox",selectedIcon:S.a,name:t,scope:e},a))}function D({scope:e,...t}){return Object(f.createElement)(y.Fill,Object(_.a)({name:"PinnedItems/"+e},t))}D.Slot=function({scope:e,className:t,...n}){return Object(f.createElement)(y.Slot,Object(_.a)({name:"PinnedItems/"+e},n),e=>!Object(r.isEmpty)(e)&&Object(f.createElement)("div",{className:E()(t,"interface-pinned-items")},e))};var R=D;function F({scope:e,children:t,className:n}){return Object(f.createElement)(y.Fill,{name:"ComplementaryArea/"+e},Object(f.createElement)("div",{className:n},t))}const G=k((function({children:e,className:t,closeLabel:n=Object(h.__)("Close plugin"),identifier:a,header:c,headerClassName:r,icon:i,isPinnable:s=!0,panelClassName:l,scope:u,name:d,smallScreenTitle:m,title:b,toggleShortcut:p,isActiveByDefault:O,showIconLabels:j=!1}){const{isActive:_,isPinned:v,activeArea:w,isSmall:C,isLarge:k}=Object(o.useSelect)(e=>{const{getActiveComplementaryArea:t,isItemPinned:n}=e(g),c=t(u);return{isActive:c===a,isPinned:n(u,a),activeArea:c,isSmall:e(N.store).isViewportMatch("< medium"),isLarge:e(N.store).isViewportMatch("large")}},[a,u]);!function(e,t,n,a,c){const r=Object(f.useRef)(!1),i=Object(f.useRef)(!1),{enableComplementaryArea:s,disableComplementaryArea:l}=Object(o.useDispatch)(g);Object(f.useEffect)(()=>{a&&c&&!r.current?(l(e),i.current=!0):i.current&&!c&&r.current?(i.current=!1,s(e,t)):i.current&&n&&n!==t&&(i.current=!1),c!==r.current&&(r.current=c)},[a,c,e,t,n])}(u,a,w,_,C);const{enableComplementaryArea:x,disableComplementaryArea:L,pinItem:A,unpinItem:D}=Object(o.useDispatch)(g);return Object(f.useEffect)(()=>{O&&void 0===w&&!C&&x(u,a)},[w,O,u,a,C]),Object(f.createElement)(f.Fragment,null,s&&Object(f.createElement)(R,{scope:u},v&&Object(f.createElement)(P,{scope:u,identifier:a,isPressed:_&&(!j||k),"aria-expanded":_,label:b,icon:j?S.a:i,showTooltip:!j,isTertiary:j})),d&&s&&Object(f.createElement)(B,{target:d,scope:u,icon:i},b),_&&Object(f.createElement)(F,{className:E()("interface-complementary-area",t),scope:u},Object(f.createElement)(T,{className:r,closeLabel:n,onClose:()=>L(u),smallScreenTitle:m,toggleButtonProps:{label:n,shortcut:p,scope:u,identifier:a}},c||Object(f.createElement)(f.Fragment,null,Object(f.createElement)("strong",null,b),s&&Object(f.createElement)(y.Button,{className:"interface-complementary-area__pin-unpin-item",icon:v?M.a:I.a,label:v?Object(h.__)("Unpin from toolbar"):Object(h.__)("Pin to toolbar"),onClick:()=>(v?D:A)(u,a),isPressed:v,"aria-expanded":v}))),Object(f.createElement)(y.Panel,{className:l},e)))}));G.Slot=function({scope:e,...t}){return Object(f.createElement)(y.Slot,Object(_.a)({name:"ComplementaryArea/"+e},t))};var U=G;class z extends f.Component{componentDidMount(){this.isSticky=!1,this.sync(),document.body.classList.contains("sticky-menu")&&(this.isSticky=!0,document.body.classList.remove("sticky-menu"))}componentWillUnmount(){this.isSticky&&document.body.classList.add("sticky-menu"),this.props.isActive&&document.body.classList.remove("is-fullscreen-mode")}componentDidUpdate(e){this.props.isActive!==e.isActive&&this.sync()}sync(){const{isActive:e}=this.props;e?document.body.classList.add("is-fullscreen-mode"):document.body.classList.remove("is-fullscreen-mode")}render(){return null}}var V=z,H=n(9),q=Object(f.forwardRef)((function({footer:e,header:t,sidebar:n,secondarySidebar:a,notices:c,content:o,drawer:r,actions:i,labels:s,className:l,shortcuts:u},d){const m=Object(f.useRef)(),b=Object(y.__unstableUseNavigateRegions)(m,u);!function(e){Object(f.useEffect)(()=>{const t=document&&document.querySelector(`html:not(.${e})`);if(t)return t.classList.toggle(e),()=>{t.classList.toggle(e)}},[e])}("interface-interface-skeleton__html-container");const p={
/* translators: accessibility text for the nav bar landmark region. */
drawer:Object(h.__)("Drawer"),
/* translators: accessibility text for the top bar landmark region. */
header:Object(h.__)("Header"),
/* translators: accessibility text for the content landmark region. */
body:Object(h.__)("Content"),
/* translators: accessibility text for the secondary sidebar landmark region. */
secondarySidebar:Object(h.__)("Block Library"),
/* translators: accessibility text for the settings landmark region. */
sidebar:Object(h.__)("Settings"),
/* translators: accessibility text for the publish landmark region. */
actions:Object(h.__)("Publish"),
/* translators: accessibility text for the footer landmark region. */
footer:Object(h.__)("Footer"),...s};return Object(f.createElement)("div",{ref:Object(H.useMergeRefs)([d,m]),className:E()(l,"interface-interface-skeleton",b,!!e&&"has-footer")},!!r&&Object(f.createElement)("div",{className:"interface-interface-skeleton__drawer",role:"region","aria-label":p.drawer},r),Object(f.createElement)("div",{className:"interface-interface-skeleton__editor"},!!t&&Object(f.createElement)("div",{className:"interface-interface-skeleton__header",role:"region","aria-label":p.header,tabIndex:"-1"},t),Object(f.createElement)("div",{className:"interface-interface-skeleton__body"},!!a&&Object(f.createElement)("div",{className:"interface-interface-skeleton__secondary-sidebar",role:"region","aria-label":p.secondarySidebar,tabIndex:"-1"},a),!!c&&Object(f.createElement)("div",{className:"interface-interface-skeleton__notices"},c),Object(f.createElement)("div",{className:"interface-interface-skeleton__content",role:"region","aria-label":p.body,tabIndex:"-1"},o),!!n&&Object(f.createElement)("div",{className:"interface-interface-skeleton__sidebar",role:"region","aria-label":p.sidebar,tabIndex:"-1"},n),!!i&&Object(f.createElement)("div",{className:"interface-interface-skeleton__actions",role:"region","aria-label":p.actions,tabIndex:"-1"},i))),!!e&&Object(f.createElement)("div",{className:"interface-interface-skeleton__footer",role:"region","aria-label":p.footer,tabIndex:"-1"},e))}))},29:function(e,t){e.exports=window.wp.notices},3:function(e,t){e.exports=window.wp.components},31:function(e,t){e.exports=window.wp.apiFetch},4:function(e,t){e.exports=window.wp.data},41:function(e,t){e.exports=window.wp.plugins},419:function(e,t,n){"use strict";n.r(t),n.d(t,"initialize",(function(){return Le}));var a={};n.r(a),n.d(a,"getNavigationPostForMenu",(function(){return R}));var c={};n.r(c),n.d(c,"getSelectedMenuId",(function(){return U})),n.d(c,"getNavigationPostForMenu",(function(){return z})),n.d(c,"hasResolvedNavigationPost",(function(){return V})),n.d(c,"getMenuItemForClientId",(function(){return H}));var o={};n.r(o),n.d(o,"setSelectedMenuId",(function(){return Q})),n.d(o,"createMissingMenuItems",(function(){return W})),n.d(o,"saveNavigationPost",(function(){return Y}));var r=n(0),i=n(56),s=n(13),l=n(18),u=n(9),d=n(3),m=n(5),b=n(4),p=n(27),O=n(1);const j="core/edit-navigation",g="edit-navigation/menu",_="edit-navigation/block-inspector";function f(e,t){return Object(s.useEntityProp)("root","menu",e,t)}var v=n(29),E=Object(b.combineReducers)({mapping:function(e,t){const{type:n,postId:a,...c}=t;return"SET_MENU_ITEM_TO_CLIENT_ID_MAPPING"===n?{...e,[a]:c.mapping}:e||{}},processingQueue:function(e,t){var n;const{type:a,postId:c,...o}=t;switch(a){case"START_PROCESSING_POST":return{...e,[c]:{...e[c],inProgress:!0}};case"FINISH_PROCESSING_POST":return{...e,[c]:{...e[c],inProgress:!1}};case"POP_PENDING_ACTION":const t={...e[c]};var r;return"pendingActions"in t&&(t.pendingActions=null===(r=t.pendingActions)||void 0===r?void 0:r.filter(e=>e!==o.action)),{...e,[c]:t};case"ENQUEUE_AFTER_PROCESSING":const a=(null===(n=e[c])||void 0===n?void 0:n.pendingActions)||[];if(!a.includes(o.action))return{...e,[c]:{...e[c],pendingActions:[...a,o.action]}}}return e||{}},selectedMenuId:function(e=0,t){switch(t.type){case"SET_SELECTED_MENU_ID":return t.menuId}return e}}),y=n(8),h=n(31),S=n.n(h),M=n(2);const I=e=>"navigation-post-"+e;function N(e){return{menus:e,per_page:-1}}function w(e){return function*(t){const n=t.id;if(yield function(e){return{type:"IS_PROCESSING_POST",postId:e}}(n))return yield{type:"ENQUEUE_AFTER_PROCESSING",postId:n,action:e},{status:"pending"};yield{type:"POP_PENDING_ACTION",postId:n,action:e},yield{type:"START_PROCESSING_POST",postId:n};try{yield*e(yield(a=t.meta.menuId,{type:"SELECT",registryName:k,selectorName:"getNavigationPostForMenu",args:[a]}))}finally{yield{type:"FINISH_PROCESSING_POST",postId:n,action:e};const a=yield function(e){return{type:"GET_PENDING_ACTIONS",postId:e}}(n);if(a.length){const e=w(a[0]);yield*e(t)}}var a}}const C=({label:e="",url:t="",description:n,rel:a,className:c,title:o,type:r,id:i,kind:s,opensInNewTab:l})=>{var u;return r&&"tag"===r&&(r="post_tag"),{title:e,url:t,...(null==n?void 0:n.length)&&{description:n},...(null==a?void 0:a.length)&&{xfn:null==a?void 0:a.trim().split(" ")},...(null==c?void 0:c.length)&&{classes:null==c?void 0:c.trim().split(" ")},...(null==o?void 0:o.length)&&{attr_title:o},...(null===(u=r)||void 0===u?void 0:u.length)&&{object:r},...(null==s?void 0:s.length)&&{type:null==s?void 0:s.replace("-","_")},...i&&"custom"!==r&&{object_id:i},target:l?"_blank":""}},k="core/edit-navigation";function P(e){return{type:"API_FETCH",request:e}}function T(e){return{type:"GET_MENU_ITEM_TO_CLIENT_ID_MAPPING",postId:e}}function x(e){return{type:"RESOLVE_MENU_ITEMS",query:N(e)}}function L(e,t,...n){return{type:"DISPATCH",registryName:e,actionName:t,args:n}}const A={API_FETCH:({request:e})=>S()(e),SELECT:Object(b.createRegistryControl)(e=>({registryName:t,selectorName:n,args:a})=>e.select(t)[n](...a)),GET_PENDING_ACTIONS:Object(b.createRegistryControl)(e=>({postId:t})=>{var n;return(null===(n=B(e).processingQueue[t])||void 0===n?void 0:n.pendingActions)||[]}),IS_PROCESSING_POST:Object(b.createRegistryControl)(e=>({postId:t})=>{var n;return!(null===(n=B(e).processingQueue[t])||void 0===n||!n.inProgress)}),GET_MENU_ITEM_TO_CLIENT_ID_MAPPING:Object(b.createRegistryControl)(e=>({postId:t})=>B(e).mapping[t]||{}),DISPATCH:Object(b.createRegistryControl)(e=>({registryName:t,actionName:n,args:a})=>e.dispatch(t)[n](...a)),RESOLVE_MENU_ITEMS:Object(b.createRegistryControl)(e=>({query:t})=>e.resolveSelect("core").getMenuItems(t))},B=e=>e.stores[k].store.getState();var D=A;function*R(e){if(!e)return;const t=F(e);yield G(t);const n=["root","postType",t.id];yield L("core","startResolution","getEntityRecord",n);const a=yield x(e),[c,o]=function(e){const{innerBlocks:t,mapping:n}=function(e){return e?function e(t){let n={};return{innerBlocks:Object(M.sortBy)(t,"menu_order").map(t=>{var a;if("block"===t.type){const[e]=Object(y.parse)(t.content.raw);return e||Object(y.createBlock)("core/freeform",{content:t.content})}const c=function({title:e,xfn:t,classes:n,attr_title:a,object:c,object_id:o,description:r,url:i,type:s,target:l}){var u;return c&&"post_tag"===c&&(c="tag"),{label:(null==e?void 0:e.rendered)||"",...(null===(u=c)||void 0===u?void 0:u.length)&&{type:c},kind:(null==s?void 0:s.replace("_","-"))||"custom",url:i||"",...(null==t?void 0:t.length)&&t.join(" ").trim()&&{rel:t.join(" ").trim()},...(null==n?void 0:n.length)&&n.join(" ").trim()&&{className:n.join(" ").trim()},...(null==a?void 0:a.length)&&{title:a},...o&&"custom"!==c&&{id:o},...(null==r?void 0:r.length)&&{description:r},..."_blank"===l&&{opensInNewTab:!0}}}(t),{innerBlocks:o=[],mapping:r={}}=null!==(a=t.children)&&void 0!==a&&a.length?e(t.children):{};n={...n,...r};const i=Object(y.createBlock)("core/navigation-link",c,o);return n[t.id]=i.clientId,i}),mapping:n}}(function(e,t="id",n="parent"){const a=Object.create(null),c=[];for(const n of e)a[n[t]]={...n,children:[]};for(const o of e)o[n]?a[o[n]].children.push(a[o[t]]):c.push(a[o[t]]);return c}(e)):null}(e);return[Object(y.createBlock)("core/navigation",{orientation:"vertical"},t),n]}(a);yield{type:"SET_MENU_ITEM_TO_CLIENT_ID_MAPPING",postId:t.id,mapping:o},yield G(F(e,c)),yield L("core","finishResolution","getEntityRecord",n)}const F=(e,t=null)=>{const n=I(e);return{id:n,slug:n,status:"draft",type:"page",blocks:t?[t]:[],meta:{menuId:e}}},G=e=>L("core","receiveEntityRecords","root","postType",e,{id:e.id},!1);function U(e){var t;return null!==(t=e.selectedMenuId)&&void 0!==t?t:0}const z=Object(b.createRegistrySelector)(e=>(t,n)=>V(t,n)?e("core").getEditedEntityRecord("root","postType",I(n)):null),V=Object(b.createRegistrySelector)(e=>(t,n)=>e("core").hasFinishedResolution("getEntityRecord",["root","postType",I(n)])),H=Object(b.createRegistrySelector)(e=>(t,n,a)=>{const c=Object(M.invert)(t.mapping[n]);return e("core").getMenuItem(c[a])});var q=n(162);const{ajaxurl:$}=window;function Q(e){return{type:"SET_SELECTED_MENU_ID",menuId:e}}const W=w((function*(e){const t=e.meta.menuId,n=yield T(e.id),a=Object(M.invert)(n),c=[e.blocks[0]];for(;c.length;){const e=c.pop();if(!(e.clientId in a)){const a=yield P({path:"/__experimental/menu-items",method:"POST",data:{title:"Placeholder",url:"Placeholder",menu_order:0}});n[a.id]=e.clientId;const c=yield x(t);yield L("core","receiveEntityRecords","root","menuItem",[...c,a],N(t),!1)}c.push(...e.innerBlocks)}yield{type:"SET_MENU_ITEM_TO_CLIENT_ID_MAPPING",postId:e.id,mapping:n}})),Y=w((function*(e){const t=e.meta.menuId,n=function(e,t){const n={};if(!e||!t)return n;for(const a of e){const e=t[a.id];e&&(n[e]=a)}return n}(yield x(t),yield T(e.id));try{yield L("core","saveEditedEntityRecord","root","menu",t);const a=yield function(e,t,...n){return{type:"SELECT",registryName:"core",selectorName:"getLastEntitySaveError",args:n}}(0,0,"root","menu",t);if(a)throw new Error(a.message);const c=yield*function*(e,t,n){const{nonce:a,stylesheet:c}=yield P({path:"/__experimental/customizer-nonces/get-save-nonce"});if(!a)throw new Error;const o=new FormData;return o.append("wp_customize","on"),o.append("customize_theme",c),o.append("nonce",a),o.append("customize_changeset_uuid",Object(q.a)()),o.append("customize_autosaved","on"),o.append("customize_changeset_status","publish"),o.append("action","customize_save"),o.append("customized",function(e,t,n){const a=function e(t,n=0){return t.flatMap((t,a)=>{var c;return[{block:t,parentId:n,position:a+1}].concat(e(t.innerBlocks,null===(c=r(t))||void 0===c?void 0:c.id))})}(e).map(({block:e,parentId:n,position:a})=>function(e,n,a){const c=Object(M.omit)(r(e),"menus","meta");let o;return o="core/navigation-link"===e.name?C(e.attributes):{type:"block",content:Object(y.serialize)(e)},{...c,...o,position:a,nav_menu_term_id:t,menu_item_parent:n,status:"publish",_invalid:!1}}(e,n,a)),c=e=>`nav_menu_item[${e.id}]`,o=Object(M.keyBy)(a,c);for(const e in n){const t=c(n[e]);t in o||(o[t]=!1)}return JSON.stringify(o);function r(e){return Object(M.omit)(n[e.clientId]||{},"_links")}}(n.innerBlocks,e,t)),yield P({url:$||"/wp-admin/admin-ajax.php",method:"POST",body:o})}(t,n,e.blocks[0]);if(!c.success)throw new Error(c.data.message);yield L("core","receiveEntityRecords","root","postType",[e],void 0),yield L(v.store,"createSuccessNotice",Object(O.__)("Navigation saved."),{type:"snackbar"})}catch(e){const t=e?Object(O.sprintf)(
/* translators: %s: The text of an error message (potentially untranslated). */
Object(O.__)("Unable to save: '%s'"),e.message):Object(O.__)("Unable to save: An error ocurred.");yield L(v.store,"createErrorNotice",t,{type:"snackbar"})}})),J={reducer:E,controls:D,selectors:c,resolvers:a,actions:o,persist:["selectedMenuId"]},K=Object(b.createReduxStore)(k,J);Object(b.registerStore)(k,J);const X=e=>{const t=e("core"),n={per_page:-1};return{menus:t.getMenus(n),hasLoadedMenus:t.hasFinishedResolution("getMenus",[n])}};function Z(){const e=Object(b.useSelect)(e=>e(K).getSelectedMenuId(),[]),{setSelectedMenuId:t}=Object(b.useDispatch)(K);return[e,t]}const ee=(e,t)=>Object.values(e).filter(({menu:e})=>e===t).map(({name:e})=>e);const te=Object(O.__)("(untitled menu)"),ne=Object(r.createContext)();function ae(){const{enableComplementaryArea:e}=Object(b.useDispatch)(p.g),[t]=Z(),[n]=f("name",t),[,a]=Object(r.useContext)(ne),c=null!=n?n:te;return Object(r.createElement)(m.BlockControls,null,Object(r.createElement)(d.ToolbarGroup,null,Object(r.createElement)(d.ToolbarButton,{"aria-label":Object(O.sprintf)(// translators: %s: the name of a menu.
Object(O.__)("Edit menu name: %s"),c),onClick:()=>{e(j,g),a(!0)}},c)))}const ce=Object(u.createHigherOrderComponent)(e=>t=>"core/navigation"!==t.name?Object(r.createElement)(e,t):Object(r.createElement)(r.Fragment,null,Object(r.createElement)(ae,null),Object(r.createElement)(e,t)),"withMenuName");function oe(e,t){return["core/navigation","core/navigation-link"].includes(t)||Object(M.set)(e,["supports","inserter"],!1),e}var re=n(7);const ie=Object(u.createHigherOrderComponent)(e=>t=>"core/navigation"!==t.name?Object(r.createElement)(e,t):Object(r.createElement)(e,Object(re.a)({},t,{hasSubmenuIndicatorSetting:!1,hasItemJustificationControls:!1})),"removeNavigationBlockEditUnsupportedFeatures");function se(e,t){return"core/navigation"!==t?e:{...e,supports:{customClassName:!1,html:!1,inserter:!0},variations:void 0}}var le=n(10),ue=n.n(le);function de({className:e,menus:t,onCreate:n,titleText:a,helpText:c,focusInputOnMount:o=!1}){const[i,s]=Object(r.useState)(""),{createErrorNotice:l,createInfoNotice:m,removeNotice:p}=Object(b.useDispatch)(v.store),[j,g]=Object(r.useState)(!1),{saveMenu:_}=Object(b.useDispatch)("core"),f=Object(u.useFocusOnMount)(o);return Object(r.createElement)("form",{className:ue()("edit-navigation-add-menu",e),onSubmit:async e=>{if(e.preventDefault(),!i.length)return;if(p("edit-navigation-error"),Object(M.some)(t,(e=>t=>t.name.toLowerCase()===e.toLowerCase())(i))){const e=Object(O.sprintf)(// translators: %s: the name of a menu.
Object(O.__)("The menu name %s conflicts with another menu name. Please try another."),i);return void l(e,{id:"edit-navigation-error"})}g(!0);const a=await _({name:i});a&&(m(Object(O.__)("Menu created"),{type:"snackbar",isDismissible:!0}),n&&n(a.id)),g(!1)}},a&&Object(r.createElement)("h3",{className:"edit-navigation-add-menu__title"},a),Object(r.createElement)(d.TextControl,{ref:f,label:Object(O.__)("Menu name"),value:i,onChange:s,help:c}),Object(r.createElement)(d.Button,{className:"edit-navigation-add-menu__create-menu-button",type:"submit",isPrimary:!0,disabled:!i.length,isBusy:j},Object(O.__)("Create menu")))}function me({menus:e,selectedMenuId:t,onSelectMenu:n=M.noop}){const[a,c]=Object(r.useState)(!1),o=()=>c(!1);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(d.MenuGroup,null,Object(r.createElement)(d.MenuItemsChoice,{value:t,onSelect:n,choices:e.map(({id:e,name:t})=>({value:e,label:t,"aria-label":Object(O.sprintf)(
/* translators: %s: The name of a menu. */
Object(O.__)("Switch to '%s'"),t)}))})),Object(r.createElement)(d.MenuGroup,{hideSeparator:!0},Object(r.createElement)(d.MenuItem,{isPrimary:!0,onClick:()=>c(!0)},Object(O.__)("Create a new menu")),a&&Object(r.createElement)(d.Modal,{title:Object(O.__)("Create a new menu"),onRequestClose:o},Object(r.createElement)(de,{className:"edit-navigation-menu-switcher__add-menu",menus:e,onCreate:e=>{o(),n(e)},helpText:Object(O.__)("A short descriptive name for your menu.")}))))}function be({onCreate:e,onSelectMenu:t,menus:n}){const a=(null==n?void 0:n.length)>0;return Object(r.createElement)("div",{className:"edit-navigation-empty-state"},a&&Object(r.createElement)("h4",null,Object(O.__)("Choose a menu to edit:")),Object(r.createElement)(d.Card,null,Object(r.createElement)(d.CardBody,null,a?Object(r.createElement)(d.NavigableMenu,null,Object(r.createElement)(me,{onSelectMenu:t,menus:n})):Object(r.createElement)(de,{onCreate:e,titleText:Object(O.__)("Create your first menu"),helpText:Object(O.__)("A short descriptive name for your menu."),focusInputOnMount:!0}))))}class pe extends r.Component{constructor(){super(...arguments),this.reboot=this.reboot.bind(this),this.state={error:null}}componentDidCatch(e){this.setState({error:e})}reboot(){this.props.onError&&this.props.onError()}render(){const{error:e}=this.state;return e?Object(r.createElement)(m.Warning,{className:"navigation-editor-error-boundary",actions:[Object(r.createElement)(d.Button,{key:"recovery",onClick:this.reboot,isSecondary:!0},Object(O.__)("Attempt Recovery"))]},Object(O.__)("The navigation editor has encountered an unexpected error.")):this.props.children}}var Oe=pe,je=n(24);function ge({saveBlocks:e}){Object(je.useShortcut)("core/edit-navigation/save-menu",Object(r.useCallback)(t=>{t.preventDefault(),e()}),{bindGlobal:!0});const{redo:t,undo:n}=Object(b.useDispatch)("core");return Object(je.useShortcut)("core/edit-navigation/undo",e=>{n(),e.preventDefault()},{bindGlobal:!0}),Object(je.useShortcut)("core/edit-navigation/redo",e=>{t(),e.preventDefault()},{bindGlobal:!0}),null}ge.Register=function(){const{registerShortcut:e}=Object(b.useDispatch)(je.store);return Object(r.useEffect)(()=>{e({name:"core/edit-navigation/save-menu",category:"global",description:Object(O.__)("Save the navigation currently being edited."),keyCombination:{modifier:"primary",character:"s"}}),e({name:"core/edit-navigation/undo",category:"global",description:Object(O.__)("Undo your last changes."),keyCombination:{modifier:"primary",character:"z"}}),e({name:"core/edit-navigation/redo",category:"global",description:Object(O.__)("Redo your last undo."),keyCombination:{modifier:"primaryShift",character:"z"}})},[e]),null};var _e=ge,fe=n(205);function ve({sidebarName:e}){const{enableComplementaryArea:t}=Object(b.useDispatch)(p.g),[n,a]=e===g?// translators: ARIA label for the Menu sidebar tab, selected.
[Object(O.__)("Menu (selected)"),"is-active"]:// translators: ARIA label for the Menu Settings Sidebar tab, not selected.
[Object(O.__)("Menu"),""],[c,o]=e===_?// translators: ARIA label for the Block Settings Sidebar tab, selected.
[Object(O.__)("Block (selected)"),"is-active"]:// translators: ARIA label for the Block Settings Sidebar tab, not selected.
[Object(O.__)("Block"),""];return Object(r.createElement)("ul",null,Object(r.createElement)("li",null,Object(r.createElement)(d.Button,{onClick:()=>t(j,g),className:"edit-navigation-sidebar__panel-tab "+a,"aria-label":n,"data-label":Object(O.__)("Menu")},// translators: Text label for the Menu Settings Sidebar tab.
Object(O.__)("Menu"))),Object(r.createElement)("li",null,Object(r.createElement)(d.Button,{onClick:()=>t(j,_),className:"edit-navigation-sidebar__panel-tab "+o,"aria-label":c,"data-label":Object(O.__)("Block")},// translators: Text label for the Block Settings Sidebar tab.
Object(O.__)("Block"))))}function Ee(){const[e,t]=Object(r.useContext)(ne),[n]=Z(),[a,c]=f("name",n),o=Object(r.useRef)();return Object(r.useEffect)(()=>{e&&o.current.focus()},[e]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(d.TextControl,{ref:o,help:Object(O.__)("A short, descriptive name used to refer to this menu elsewhere."),label:Object(O.__)("Name"),onBlur:()=>t(!1),className:"edit-navigation-name-editor__text-control",value:a,onChange:c}))}function ye({menuId:e}){const[t,n]=f("auto_add",e);return Object(r.createElement)(d.ToggleControl,{label:Object(O.__)("Add new pages"),help:Object(O.__)("Automatically add published top-level pages to this menu."),checked:null!=t&&t,onChange:n})}function he({menuId:e}){return Object(r.createElement)(d.PanelBody,{title:Object(O.__)("Menu settings")},Object(r.createElement)(Ee,null),Object(r.createElement)(ye,{menuId:e}))}function Se({onSelectMenu:e,isModalOpen:t,openModal:n,closeModal:a,menus:c,selectedMenuId:o}){const{menuLocations:i,assignMenuToLocation:s,toggleMenuLocationAssignment:l}=function(){const[e,t]=Object(r.useState)(null),[n]=Z(),{editMenuEntityRecord:a,menuEntityData:c}=function(e){const{editEntityRecord:t}=Object(b.useDispatch)("core"),n=["root","menu",e];return{editedMenu:Object(b.useSelect)(t=>e&&t("core").getEditedEntityRecord(...n),[e]),menuEntityData:n,editMenuEntityRecord:t}}(n);Object(r.useEffect)(()=>{let e=!0;return(async()=>{const n=await S()({method:"GET",path:"/__experimental/menu-locations/"});e&&t(n)})(),()=>e=!1},[]);const o=Object(r.useCallback)(async(n,o)=>{const r=e[n].menu,i=Object(M.merge)(e,{[n]:{menu:o}});t(i),a(...c,{locations:ee(i,o||r)})},[e]);return{menuLocations:Object(r.useMemo)(()=>Object.values(e||{}),[e]),assignMenuToLocation:o,toggleMenuLocationAssignment:(t,n)=>{const a=e[t].menu===n?0:n;o(t,a)}}}();if(!i||null==c||!c.length)return Object(r.createElement)(d.Spinner,null);if(!i.length)return Object(r.createElement)(d.PanelBody,{title:Object(O.__)("Theme locations")},Object(r.createElement)("p",null,Object(O.__)("There are no available menu locations.")));const u=Object(O.sprintf)(// translators: Number of available theme locations.
Object(O.__)("Your current theme provides %d different locations to place menu."),i.length),m=Object(O.sprintf)(// translators: Number of available theme locations.
Object(O.__)("Your current theme supports %d different locations. Select which menu appears in each location."),i.length),p=i.map(({name:e,description:t,menu:n})=>{const a=c.filter(({id:e})=>![0,o].includes(e)).find(({id:e})=>e===n);return Object(r.createElement)("li",{key:e,className:"edit-navigation-manage-locations__checklist-item"},Object(r.createElement)(d.CheckboxControl,{className:"edit-navigation-manage-locations__menu-location-checkbox",checked:n===o,onChange:()=>l(e,o),label:t,help:a&&Object(O.sprintf)(// translators: menu name.
Object(O.__)("Currently using %s"),a.name)}))}),j=i.map(t=>Object(r.createElement)("div",{key:t.name,className:"edit-navigation-manage-locations__menu-entry"},Object(r.createElement)(d.SelectControl,{key:t.name,className:"edit-navigation-manage-locations__select-menu",label:t.description,labelPosition:"top",value:t.menu,options:[{value:0,label:Object(O.__)("-"),key:0},...c.map(({id:e,name:t})=>({key:e,value:e,label:t}))],onChange:e=>{s(t.name,Number(e))}}),Object(r.createElement)(d.Button,{isSecondary:!0,style:{visibility:t.menu?"visible":"hidden"},className:"edit-navigation-manage-locations__edit-button",onClick:()=>(a(),e(t.menu))},Object(O.__)("Edit"))));return Object(r.createElement)(d.PanelBody,{title:Object(O.__)("Theme locations")},Object(r.createElement)("div",{className:"edit-navigation-manage-locations__theme-location-text-main"},u),Object(r.createElement)("ul",{className:"edit-navigation-manage-locations__checklist"},p),Object(r.createElement)(d.Button,{isSecondary:!0,className:"edit-navigation-manage-locations__open-menu-locations-modal-button","aria-expanded":t,onClick:n},Object(O.__)("Manage locations")),t&&Object(r.createElement)(d.Modal,{className:"edit-navigation-manage-locations__modal",title:Object(O.__)("Manage locations"),onRequestClose:a},Object(r.createElement)("div",{className:"edit-navigation-manage-locations__theme-location-text-modal"},m),j))}function Me({onDeleteMenu:e,isMenuBeingDeleted:t}){return Object(r.createElement)(d.PanelBody,null,Object(r.createElement)(d.Button,{className:"edit-navigation-inspector-additions__delete-menu-button",isSecondary:!0,isDestructive:!0,isBusy:t,onClick:()=>{window.confirm(Object(O.__)("Are you sure you want to delete this navigation? This action cannot be undone."))&&e()}},Object(O.__)("Delete menu")))}function Ie({menuId:e,menus:t,isMenuBeingDeleted:n,onDeleteMenu:a,onSelectMenu:c,isManageLocationsModalOpen:o,closeManageLocationsModal:i,openManageLocationsModal:s,hasPermanentSidebar:l}){const{sidebar:u,hasBlockSelection:d,hasSidebarEnabled:f}=Object(b.useSelect)(e=>{const t=e(p.g).getActiveComplementaryArea(j),n=[g,_].includes(t);return{sidebar:t,hasBlockSelection:!!e(m.store).getBlockSelectionStart(),hasSidebarEnabled:n}},[]),{enableComplementaryArea:v}=Object(b.useDispatch)(p.g);Object(r.useEffect)(()=>{f&&v(j,d?_:g)},[d,f]);let E=u;return f||(E=d?_:g),Object(r.createElement)(p.b,{className:"edit-navigation-sidebar"
/* translators: button label text should, if possible, be under 16 characters. */,title:Object(O.__)("Settings"),closeLabel:Object(O.__)("Close settings"),scope:j,identifier:E,icon:fe.a,isActiveByDefault:l,header:Object(r.createElement)(ve,{sidebarName:E}),headerClassName:"edit-navigation-sidebar__panel-tabs",isPinnable:!l},E===g&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(he,{menuId:e}),Object(r.createElement)(Se,{menus:t,selectedMenuId:e,onSelectMenu:c,isModalOpen:o,closeModal:i,openModal:s}),Object(r.createElement)(Me,{onDeleteMenu:a,isMenuBeingDeleted:n})),E===_&&Object(r.createElement)(m.BlockInspector,null))}function Ne({navigationPost:e}){const{isDirty:t}=Object(b.useSelect)(e=>{const{__experimentalGetDirtyEntityRecords:t}=e(s.store);return{isDirty:t().length>0}},[]),{saveNavigationPost:n}=Object(b.useDispatch)(K),a=!t||!e;return Object(r.createElement)(d.Button,{className:"edit-navigation-toolbar__save-button",isPrimary:!0,onClick:()=>{n(e)},disabled:a},Object(O.__)("Save"))}function we({isMenuSelected:e,menus:t,selectedMenuId:n,onSelectMenu:a,isPending:c,navigationPost:o}){const[i]=f("name",n);let s;return s=i?Object(O.sprintf)(// translators: Name of the menu being edited, e.g. 'Main Menu'.
Object(O.__)("Editing: %s"),i):c?Object(O.__)("Loading â€¦"):Object(O.__)("No menus available"),Object(r.createElement)("div",{className:"edit-navigation-header"},Object(r.createElement)("div",{className:"edit-navigation-header__title-subtitle"},Object(r.createElement)("h1",{className:"edit-navigation-header__title"},Object(O.__)("Navigation")),Object(r.createElement)("h2",{className:"edit-navigation-header__subtitle"},e&&s)),e&&Object(r.createElement)("div",{className:"edit-navigation-header__actions"},Object(r.createElement)(d.DropdownMenu,{icon:null,toggleProps:{children:Object(O.__)("Switch menu"),"aria-label":Object(O.__)("Switch menu, or create a new menu"),showTooltip:!1,isTertiary:!0,disabled:!(null!=t&&t.length),__experimentalIsFocusable:!0},popoverProps:{className:"edit-navigation-header__menu-switcher-dropdown",position:"bottom center"}},({onClose:e})=>Object(r.createElement)(me,{menus:t,selectedMenuId:n,onSelectMenu:t=>{a(t),e()}})),Object(r.createElement)(Ne,{navigationPost:o}),Object(r.createElement)(p.f.Slot,{scope:"core/edit-navigation"})))}function Ce(){const{removeNotice:e}=Object(b.useDispatch)(v.store),t=Object(b.useSelect)(e=>e(v.store).getNotices(),[]),n=Object(M.filter)(t,{isDismissible:!0,type:"default"}),a=Object(M.filter)(t,{isDismissible:!1,type:"default"}),c=Object(M.filter)(t,{type:"snackbar"});return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(d.NoticeList,{notices:a,className:"edit-navigation-notices__notice-list"}),Object(r.createElement)(d.NoticeList,{notices:n,className:"edit-navigation-notices__notice-list",onRemove:e}),Object(r.createElement)(d.SnackbarList,{notices:c,className:"edit-navigation-notices__snackbar-list",onRemove:e}))}function ke({isPending:e}){return Object(r.createElement)("div",{className:"edit-navigation-editor"},e?Object(r.createElement)(d.Spinner,null):Object(r.createElement)("div",{className:"editor-styles-wrapper"},Object(r.createElement)(m.WritingFlow,null,Object(r.createElement)(m.ObserveTyping,null,Object(r.createElement)(m.BlockList,null)))))}function Pe(){const e=Object(b.useSelect)(e=>{const{__experimentalGetDirtyEntityRecords:t}=e(s.store);return t().length>0},[]);return Object(r.useEffect)(()=>{const t=t=>{if(e)return t.returnValue=Object(O.__)("You have unsaved changes. If you proceed, they will be lost."),t.returnValue};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}},[e]),null}const Te={
/* translators: accessibility text for the navigation screen top bar landmark region. */
header:Object(O.__)("Navigation top bar"),
/* translators: accessibility text for the navigation screen content landmark region. */
body:Object(O.__)("Navigation menu blocks"),
/* translators: accessibility text for the navigation screen settings landmark region. */
sidebar:Object(O.__)("Navigation settings")};function xe({blockEditorSettings:e}){const t=Object(m.__unstableUseBlockSelectionClearer)(),n=Object(u.useViewportMatch)("medium"),[a,c]=Object(r.useState)(!1),{saveNavigationPost:o}=Object(b.useDispatch)(K),{menus:i,hasLoadedMenus:l,hasFinishedInitialLoad:j,selectedMenuId:g,navigationPost:_,isMenuBeingDeleted:f,selectMenu:E,deleteMenu:y,openManageLocationsModal:h,closeManageLocationsModal:S,isManageLocationsModalOpen:M,isMenuSelected:I}=function(){var e;const[t,n]=Object(r.useState)(!1),[a,c]=[!0,!1].map(e=>()=>n(e)),{deleteMenu:o}=Object(b.useDispatch)(s.store),[i,l]=Z(),[u,d]=Object(r.useState)(!1),{menus:m,hasLoadedMenus:p}=Object(b.useSelect)(X,[]),{createErrorNotice:j,createInfoNotice:g}=Object(b.useDispatch)(v.store),_=Object(b.useSelect)(e=>e(s.store).isDeletingEntityRecord("root","menu",i),[i]),f=(null==m||null===(e=m.find(({id:e})=>e===i))||void 0===e?void 0:e.name)||"";Object(r.useEffect)(()=>{p&&d(!0)},[p]);const E=Object(b.useSelect)(e=>{if(i)return e(K).getNavigationPostForMenu(i)},[i]);return{menus:m,hasLoadedMenus:p,hasFinishedInitialLoad:u,selectedMenuId:i,navigationPost:E,isMenuBeingDeleted:_,selectMenu:l,deleteMenu:async()=>{await o(i,{force:!0})?(l(0),g(Object(O.sprintf)(// translators: %s: the name of a menu.
Object(O.__)('"%s" menu has been deleted'),f),{type:"snackbar",isDismissible:!0})):j(Object(O.__)("Menu deletion unsuccessful"))},openManageLocationsModal:a,closeManageLocationsModal:c,isManageLocationsModalOpen:t,isMenuSelected:!!i}}(),[N,w,C]=function(e){const{createMissingMenuItems:t}=Object(b.useDispatch)(K),[n,a,c]=Object(s.useEntityBlockEditor)("root","postType",{id:null==e?void 0:e.id});return[n,a,Object(r.useCallback)(async(...n)=>{await c(...n),t(e)},[c,e])]}(_),{hasSidebarEnabled:k}=Object(b.useSelect)(e=>({hasSidebarEnabled:!!e(p.g).getActiveComplementaryArea("core/edit-navigation")}),[]);Object(r.useEffect)(()=>{!g&&null!=i&&i.length&&E(i[0].id)},[g,i]),function(e){const{lastSaveError:t,lastDeleteError:n}=Object(b.useSelect)(t=>({lastSaveError:t("core").getLastEntitySaveError("root","menu"),lastDeleteError:t("core").getLastEntityDeleteError("root","menu",e)}),[e]),{createErrorNotice:a}=Object(b.useDispatch)(v.store),c=e=>{const t=(new window.DOMParser).parseFromString(e.message,"text/html").body.textContent||"";a(t,{id:"edit-navigation-error"})};Object(r.useEffect)(()=>{t&&c(t)},[t]),Object(r.useEffect)(()=>{n&&c(n)},[n])}(g);const P=!(null==i||!i.length),T=n&&P,x=!!(P&&_&&I);return Object(r.createElement)(Oe,null,Object(r.createElement)("div",{hidden:!f,className:"edit-navigation-layout__overlay"}),Object(r.createElement)(d.SlotFillProvider,null,Object(r.createElement)(m.BlockEditorKeyboardShortcuts.Register,null),Object(r.createElement)(_e.Register,null),Object(r.createElement)(_e,{saveBlocks:()=>o(_)}),Object(r.createElement)(Ce,null),Object(r.createElement)(m.BlockEditorProvider,{value:N,onInput:w,onChange:C,settings:{...e,templateLock:"all"},useSubRegistry:!1},Object(r.createElement)(ne.Provider,{value:Object(r.useMemo)(()=>[a,c],[a])},Object(r.createElement)(p.e,{className:ue()("edit-navigation-layout",{"has-permanent-sidebar":T}),labels:Te,header:Object(r.createElement)(we,{isMenuSelected:I,isPending:!l,menus:i,selectedMenuId:g,onSelectMenu:E,navigationPost:_}),content:Object(r.createElement)(r.Fragment,null,!j&&Object(r.createElement)(d.Spinner,null),!I&&j&&Object(r.createElement)(be,{onSelectMenu:E,onCreate:E,menus:i}),x&&Object(r.createElement)("div",{className:"edit-navigation-layout__content-area",ref:t},Object(r.createElement)(m.BlockTools,null,Object(r.createElement)(ke,{isPending:!l,blocks:N})))),sidebar:(T||k)&&Object(r.createElement)(p.b.Slot,{scope:"core/edit-navigation"})}),Object(r.createElement)(Ie,{onSelectMenu:E,menus:i,menuId:g,onDeleteMenu:y,isMenuBeingDeleted:f,hasPermanentSidebar:T,isManageLocationsModalOpen:M,openManageLocationsModal:h,closeManageLocationsModal:S})),Object(r.createElement)(Pe,null)),Object(r.createElement)(d.Popover.Slot,null)))}function Le(e,t){var n;n=!t.blockNavMenus,Object(l.addFilter)("editor.BlockEdit","core/edit-navigation/with-menu-name",ce),n&&Object(l.addFilter)("blocks.registerBlockType","core/edit-navigation/disable-inserting-non-navigation-blocks",oe),Object(l.addFilter)("editor.BlockEdit","core/edit-navigation/remove-navigation-block-edit-unsupported-features",ie),Object(l.addFilter)("blocks.registerBlockType","core/edit-navigation/remove-navigation-block-settings-unsupported-features",se),Object(i.registerCoreBlocks)(),Object(i.__experimentalRegisterExperimentalCoreBlocks)(),t.__experimentalFetchLinkSuggestions=(e,n)=>Object(s.__experimentalFetchLinkSuggestions)(e,n,t),Object(r.render)(Object(r.createElement)(xe,{blockEditorSettings:t}),document.getElementById(e))}},5:function(e,t){e.exports=window.wp.blockEditor},56:function(e,t){e.exports=window.wp.blockLibrary},59:function(e,t){e.exports=window.wp.viewport},6:function(e,t){e.exports=window.wp.primitives},7:function(e,t,n){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return a}))},8:function(e,t){e.exports=window.wp.blocks},9:function(e,t){e.exports=window.wp.compose}});